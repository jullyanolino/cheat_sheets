<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="description" content="Q# Programming Cheat Sheet for Quantum Key Distribution">
    <meta name="keywords" content="Q#, Quantum, Programming, QKD, BB84">
    <meta name="author" content="Jullyano Lino">

    <!-- Open Graph -->
    <meta property="og:title" content="Q# Programming Cheat Sheet for QKD">
    <meta property="og:description" content="Complete guide to Q# programming for Quantum Key Distribution">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://YOUR_USERNAME.github.io/YOUR_REPO_NAME/q-sharp-qkd/">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'GA_MEASUREMENT_ID');
    </script>  
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Q# Programming Cheat Sheet for QKD</title>
    <style>
	
	    /* Style for the home button */
        .home-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(88, 166, 255, 0.9);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 12px 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 14px;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
            text-decoration: none;
        }

        .home-button:hover {
            background: #58a6ff;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.3);
        }

        .home-button:active {
            transform: translateY(0);
        }
		
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'JetBrains Mono', 'Fira Code', 'Source Code Pro', monospace;
            background: linear-gradient(135deg, #0d1117 0%, #161b22 100%);
            color: #e6edf3;
            line-height: 1.6;
            font-size: 14px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .header {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: linear-gradient(135deg, #1c2128 0%, #21262d 100%);
            border-radius: 12px;
            border: 1px solid #30363d;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            color: #58a6ff;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 0 0 20px rgba(88, 166, 255, 0.3);
        }

        .header .subtitle {
            color: #7d8590;
            font-size: 1.1rem;
            margin-bottom: 1rem;
        }

        .author {
            color: #f85149;
            font-weight: bold;
            font-size: 1rem;
            opacity: 0.9;
        }

        .section {
            background: rgba(33, 38, 45, 0.6);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid #30363d;
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .section:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .section h2 {
            color: #7c3aed;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .section h3 {
            color: #fbbf24;
            font-size: 1.2rem;
            margin: 1.5rem 0 0.8rem 0;
            border-bottom: 2px solid #fbbf24;
            padding-bottom: 0.3rem;
        }

        .code-block {
            background: #0d1117;
            border: 1px solid #21262d;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            overflow-x: auto;
            position: relative;
        }

        .code-block::before {
            content: 'Q#';
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: #238636;
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 4px;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .code-block pre {
            color: #e6edf3;
            font-size: 0.9rem;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .highlight {
            background: rgba(255, 193, 7, 0.1);
            padding: 0.2rem 0.4rem;
            border-radius: 4px;
            border-left: 3px solid #ffc107;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            background: rgba(13, 17, 23, 0.8);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid #30363d;
        }

        th {
            background: linear-gradient(135deg, #1f6feb 0%, #0969da 100%);
            color: white;
            padding: 1rem;
            text-align: left;
            font-weight: bold;
        }

        td {
            padding: 0.8rem 1rem;
            border-bottom: 1px solid #21262d;
        }

        tr:hover {
            background: rgba(88, 166, 255, 0.1);
        }

        .tip-box {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, rgba(16, 185, 129, 0.1) 100%);
            border-left: 4px solid #22c55e;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box {
            background: linear-gradient(135deg, rgba(248, 81, 73, 0.1) 0%, rgba(220, 38, 38, 0.1) 100%);
            border-left: 4px solid #f85149;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .workflow-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1rem 0;
        }

        .workflow-step {
            background: linear-gradient(135deg, #1c2128 0%, #21262d 100%);
            border: 1px solid #30363d;
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            transition: transform 0.2s ease;
        }

        .workflow-step:hover {
            transform: scale(1.02);
        }

        .step-number {
            background: #58a6ff;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 1rem 0;
        }

        .quick-ref {
            background: rgba(124, 58, 237, 0.1);
            border: 1px solid #7c3aed;
            border-radius: 8px;
            padding: 1rem;
        }

        .quick-ref h4 {
            color: #a855f7;
            margin-bottom: 0.5rem;
        }

        .quick-ref ul {
            list-style: none;
            padding-left: 0;
        }

        .quick-ref li {
            padding: 0.2rem 0;
            border-bottom: 1px solid rgba(124, 58, 237, 0.2);
        }

        .quick-ref li:last-child {
            border-bottom: none;
        }

        .imports-box {
            background: rgba(6, 182, 212, 0.1);
            border: 1px solid #06b6d4;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
        }

        @media (max-width: 768px) {
            .container {
                padding: 1rem;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .grid-2 {
                grid-template-columns: 1fr;
                gap: 1rem;
            }
            
            .workflow-steps {
                grid-template-columns: 1fr;
            }
        }

        .fade-in {
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .keyword { color: #ff7b72; }
        .string { color: #a5d6ff; }
        .comment { color: #8b949e; }
        .type { color: #79c0ff; }
        .function { color: #d2a8ff; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header fade-in">
            <h1>üîê Q# Programming Cheat Sheet for QKD</h1>
            <div class="subtitle">Master Quantum Key Distribution with Q# Programming</div>
            <div class="author">Written by Jullyano Lino</div>
        </div>

        <div class="section fade-in">
            <h2>üéØ Overview</h2>
            <p>This comprehensive cheat sheet covers Q# fundamentals with a specialized focus on <strong>Quantum Key Distribution (QKD)</strong> protocols like BB84 and E91. Perfect for quantum developers and cryptography enthusiasts.</p>
        </div>

        <div class="section fade-in">
            <h2>üöÄ Your First Q# Program</h2>
            <div class="code-block">
                <pre><code><span class="keyword">namespace</span> <span class="type">QKD</span> {
    <span class="keyword">open</span> Microsoft.Quantum.Core;
    <span class="keyword">open</span> Microsoft.Quantum.Intrinsic;
    <span class="keyword">open</span> Microsoft.Quantum.Canon;
    
    <span class="function">@EntryPoint()</span>
    <span class="keyword">operation</span> <span class="function">Main</span>() : <span class="type">Unit</span> {
        <span class="function">Message</span>(<span class="string">"Welcome to Quantum Key Distribution!"</span>);
        
        <span class="comment">// Your quantum code here</span>
        <span class="keyword">use</span> qubit = <span class="function">Qubit</span>() {
            <span class="function">H</span>(qubit);                    <span class="comment">// Create superposition</span>
            <span class="keyword">let</span> result = <span class="function">M</span>(qubit);       <span class="comment">// Measure qubit</span>
            <span class="function">Message</span>($<span class="string">"Measured: {result}"</span>);
            <span class="function">Reset</span>(qubit);                <span class="comment">// Always reset!</span>
        }
    }
}</code></pre>
            </div>
            <div class="tip-box">
                <strong>üí° Key Points:</strong>
                <ul>
                    <li>Every Q# program needs a <code>namespace</code></li>
                    <li><code>@EntryPoint()</code> marks where execution begins</li>
                    <li>Always <code>Reset()</code> qubits before releasing them</li>
                    <li>Use <code>Message()</code> to print output</li>
                </ul>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üìä Essential Data Types for QKD</h2>
            <table>
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Description</th>
                        <th>QKD Usage</th>
                        <th>Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>Qubit</code></td>
                        <td>Single quantum bit</td>
                        <td>Photon carrying information</td>
                        <td><code>use q = Qubit();</code></td>
                    </tr>
                    <tr>
                        <td><code>Qubit[]</code></td>
                        <td>Array of qubits</td>
                        <td>Multiple photons/qubits</td>
                        <td><code>use qs = Qubit[4];</code></td>
                    </tr>
                    <tr>
                        <td><code>Result</code></td>
                        <td>Measurement outcome</td>
                        <td>Bit values (0 or 1)</td>
                        <td><code>Zero</code>, <code>One</code></td>
                    </tr>
                    <tr>
                        <td><code>Bool</code></td>
                        <td>Classical bit</td>
                        <td>Key bits, basis choices</td>
                        <td><code>true</code>, <code>false</code></td>
                    </tr>
                    <tr>
                        <td><code>Int</code></td>
                        <td>Integer numbers</td>
                        <td>Counters, indices</td>
                        <td><code>42</code>, <code>0</code>, <code>-5</code></td>
                    </tr>
                    <tr>
                        <td><code>Pauli</code></td>
                        <td>Measurement basis</td>
                        <td>X-basis, Z-basis</td>
                        <td><code>PauliX</code>, <code>PauliZ</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="section fade-in">
            <h2>üîë Core Quantum Gates for QKD</h2>
            
            <h3>State Preparation Gates</h3>
            <div class="code-block">
                <pre><code><span class="comment">// Create |0‚ü© state (default)</span>
<span class="keyword">use</span> qubit = <span class="function">Qubit</span>();  <span class="comment">// Automatically in |0‚ü©</span>

<span class="comment">// Create |1‚ü© state</span>
<span class="function">X</span>(qubit);             <span class="comment">// Apply NOT gate: |0‚ü© ‚Üí |1‚ü©</span>

<span class="comment">// Create superposition |+‚ü© = (|0‚ü© + |1‚ü©)/‚àö2</span>
<span class="function">H</span>(qubit);             <span class="comment">// Hadamard gate</span>

<span class="comment">// Create superposition |‚àí‚ü© = (|0‚ü© ‚àí |1‚ü©)/‚àö2</span>
<span class="function">X</span>(qubit);
<span class="function">H</span>(qubit);</code></pre>
            </div>

            <h3>Measurement Operations</h3>
            <div class="code-block">
                <pre><code><span class="comment">// Standard (Z-basis) measurement: measures |0‚ü© or |1‚ü©</span>
<span class="keyword">let</span> result = <span class="function">M</span>(qubit);

<span class="comment">// X-basis measurement: measures |+‚ü© or |‚àí‚ü©</span>
<span class="function">H</span>(qubit);                    <span class="comment">// Rotate to Z-basis</span>
<span class="keyword">let</span> result = <span class="function">M</span>(qubit);       <span class="comment">// Then measure</span>

<span class="comment">// Check measurement result</span>
<span class="keyword">if</span> result == <span class="type">Zero</span> {
    <span class="function">Message</span>(<span class="string">"Measured 0"</span>);
} <span class="keyword">else</span> {
    <span class="function">Message</span>(<span class="string">"Measured 1"</span>);
}</code></pre>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üõ°Ô∏è BB84 Protocol Implementation</h2>
            
            <div class="workflow-steps">
                <div class="workflow-step">
                    <div class="step-number">1</div>
                    <h4>Alice Prepares</h4>
                    <p>Random qubits in random bases</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">2</div>
                    <h4>Bob Measures</h4>
                    <p>Qubits in random bases</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">3</div>
                    <h4>Compare Bases</h4>
                    <p>Keep matching basis results</p>
                </div>
                <div class="workflow-step">
                    <div class="step-number">4</div>
                    <h4>Extract Key</h4>
                    <p>Shared secret from matches</p>
                </div>
            </div>

            <h3>Step 1: Alice Prepares Random Qubits</h3>
            <div class="code-block">
                <pre><code><span class="keyword">operation</span> <span class="function">AlicePrepareQubits</span>(bits : <span class="type">Bool</span>[], bases : <span class="type">Bool</span>[]) : <span class="type">Qubit</span>[] {
    <span class="keyword">mutable</span> qubits = [];
    
    <span class="keyword">for</span> i in 0..<span class="function">Length</span>(bits)-1 {
        <span class="keyword">use</span> qubit = <span class="function">Qubit</span>();
        
        <span class="comment">// Prepare bit value (0 or 1)</span>
        <span class="keyword">if</span> bits[i] {
            <span class="function">X</span>(qubit);  <span class="comment">// Prepare |1‚ü©</span>
        }
        <span class="comment">// else qubit is already |0‚ü©</span>
        
        <span class="comment">// Choose basis (false = Z-basis, true = X-basis)</span>
        <span class="keyword">if</span> bases[i] {
            <span class="function">H</span>(qubit);  <span class="comment">// Rotate to X-basis</span>
        }
        
        <span class="keyword">set</span> qubits += [qubit];
    }
    
    <span class="keyword">return</span> qubits;
}</code></pre>
            </div>

            <h3>Step 2: Bob Measures Qubits</h3>
            <div class="code-block">
                <pre><code><span class="keyword">operation</span> <span class="function">BobMeasureQubits</span>(qubits : <span class="type">Qubit</span>[], bases : <span class="type">Bool</span>[]) : <span class="type">Bool</span>[] {
    <span class="keyword">mutable</span> results = [];
    
    <span class="keyword">for</span> i in 0..<span class="function">Length</span>(qubits)-1 {
        <span class="comment">// Choose measurement basis</span>
        <span class="keyword">if</span> bases[i] {
            <span class="function">H</span>(qubits[i]);  <span class="comment">// Measure in X-basis</span>
        }
        <span class="comment">// else measure in Z-basis (default)</span>
        
        <span class="keyword">let</span> result = <span class="function">M</span>(qubits[i]);
        <span class="keyword">let</span> bit = result == <span class="type">One</span>;
        <span class="keyword">set</span> results += [bit];
        
        <span class="function">Reset</span>(qubits[i]);
    }
    
    <span class="keyword">return</span> results;
}</code></pre>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üé≤ Random Number Generation for QKD</h2>
            <div class="code-block">
                <pre><code><span class="keyword">operation</span> <span class="function">GenerateRandomBit</span>() : <span class="type">Bool</span> {
    <span class="keyword">use</span> qubit = <span class="function">Qubit</span>() {
        <span class="function">H</span>(qubit);                    <span class="comment">// Create superposition</span>
        <span class="keyword">let</span> result = <span class="function">M</span>(qubit);       <span class="comment">// Random measurement</span>
        <span class="function">Reset</span>(qubit);
        <span class="keyword">return</span> result == <span class="type">One</span>;        <span class="comment">// Convert to Bool</span>
    }
}

<span class="keyword">operation</span> <span class="function">GenerateRandomBits</span>(count : <span class="type">Int</span>) : <span class="type">Bool</span>[] {
    <span class="keyword">mutable</span> bits = [];
    <span class="keyword">for</span> _ in 1..count {
        <span class="keyword">set</span> bits += [<span class="function">GenerateRandomBit</span>()];
    }
    <span class="keyword">return</span> bits;
}</code></pre>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üîß Qubit Management (Very Important!)</h2>
            
            <div class="tip-box">
                <h4>‚úÖ Safe Qubit Usage Pattern</h4>
                <div class="code-block">
                    <pre><code><span class="comment">// ‚úÖ CORRECT: Always use this pattern</span>
<span class="keyword">use</span> qubit = <span class="function">Qubit</span>() {
    <span class="comment">// Do quantum operations</span>
    <span class="function">H</span>(qubit);
    <span class="keyword">let</span> result = <span class="function">M</span>(qubit);
    
    <span class="comment">// Reset before automatic release</span>
    <span class="function">Reset</span>(qubit);
}  <span class="comment">// Qubit automatically released here</span></code></pre>
                </div>
            </div>

            <div class="warning-box">
                <h4>‚ùå Common Mistakes to Avoid</h4>
                <div class="code-block">
                    <pre><code><span class="comment">// ‚ùå WRONG: Forgetting to reset</span>
<span class="keyword">use</span> qubit = <span class="function">Qubit</span>() {
    <span class="function">H</span>(qubit);
    <span class="keyword">let</span> result = <span class="function">M</span>(qubit);
    <span class="comment">// Missing Reset(qubit)!</span>
}

<span class="comment">// ‚ùå WRONG: Using qubit after measurement without reset</span>
<span class="keyword">let</span> result1 = <span class="function">M</span>(qubit);
<span class="function">H</span>(qubit);  <span class="comment">// This might not work as expected!</span></code></pre>
                </div>
            </div>
        </div>

        <div class="section fade-in">
            <h2>‚ö° Quick Reference Card</h2>
            <div class="grid-2">
                <div class="quick-ref">
                    <h4>QKD Workflow</h4>
                    <ul>
                        <li><strong>Generate</strong> random bits and bases</li>
                        <li><strong>Prepare</strong> qubits based on bits and bases</li>
                        <li><strong>Transmit</strong> qubits (simulation: pass array)</li>
                        <li><strong>Measure</strong> qubits with random bases</li>
                        <li><strong>Compare</strong> bases publicly</li>
                        <li><strong>Extract</strong> key from matching bases</li>
                        <li><strong>Verify</strong> key security</li>
                    </ul>
                </div>
                <div class="quick-ref">
                    <h4>Key Q# Patterns</h4>
                    <ul>
                        <li><code>use qubit = Qubit() { ... Reset(qubit); }</code></li>
                        <li><code>H(qubit)</code> for superposition</li>
                        <li><code>X(qubit)</code> for bit flip</li>
                        <li><code>M(qubit)</code> for measurement</li>
                        <li><code>if result == One { ... }</code></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üîó Required Imports for QKD</h2>
            <div class="imports-box">
                <div class="code-block">
                    <pre><code><span class="keyword">open</span> Microsoft.Quantum.Core;          <span class="comment">// Basic Q# features</span>
<span class="keyword">open</span> Microsoft.Quantum.Intrinsic;     <span class="comment">// H, X, M gates</span>
<span class="keyword">open</span> Microsoft.Quantum.Canon;         <span class="comment">// Standard operations</span>
<span class="keyword">open</span> Microsoft.Quantum.Arrays;        <span class="comment">// Array manipulation</span>
<span class="keyword">open</span> Microsoft.Quantum.Convert;       <span class="comment">// Type conversions</span>
<span class="keyword">open</span> Microsoft.Quantum.Math;          <span class="comment">// Random numbers</span>
<span class="keyword">open</span> Microsoft.Quantum.Measurement;   <span class="comment">// Advanced measurements</span></code></pre>
                </div>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üí° Pro Tips for QKD Development</h2>
            <div class="grid-2">
                <div class="tip-box">
                    <strong>Development Best Practices:</strong>
                    <ul>
                        <li><strong>Start Simple:</strong> Begin with 1-2 qubits before scaling up</li>
                        <li><strong>Trace Execution:</strong> Print intermediate values to understand flow</li>
                        <li><strong>Test Edge Cases:</strong> What if all bases match? None match?</li>
                        <li><strong>Understand Physics:</strong> Remember why QKD is secure</li>
                    </ul>
                </div>
                <div class="tip-box">
                    <strong>Technical Reminders:</strong>
                    <ul>
                        <li><strong>Reset Everything:</strong> Unreset qubits cause mysterious errors</li>
                        <li><strong>Use Simulator:</strong> Perfect for learning before real quantum hardware</li>
                        <li><strong>Security First:</strong> In real QKD, security comes from quantum mechanics laws, not code complexity!</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üß™ Complete BB84 Example</h2>
            <div class="code-block">
                <pre><code><span class="function">@EntryPoint()</span>
<span class="keyword">operation</span> <span class="function">BB84Demo</span>() : <span class="type">Unit</span> {
    <span class="keyword">let</span> keyLength = 8;  <span class="comment">// Short key for demo</span>
    
    <span class="function">Message</span>(<span class="string">"=== BB84 Quantum Key Distribution Demo ==="</span>);
    
    <span class="comment">// 1. Alice generates random bits and bases</span>
    <span class="keyword">let</span> aliceBits = <span class="function">GenerateRandomBits</span>(keyLength);
    <span class="keyword">let</span> aliceBases = <span class="function">GenerateRandomBits</span>(keyLength);
    
    <span class="function">Message</span>($<span class="string">"Alice's bits:  {aliceBits}"</span>);
    <span class="function">Message</span>($<span class="string">"Alice's bases: {aliceBases}"</span>);
    
    <span class="comment">// 2. Alice prepares qubits</span>
    <span class="keyword">let</span> qubits = <span class="function">AlicePrepareQubits</span>(aliceBits, aliceBases);
    
    <span class="comment">// 3. Bob chooses random measurement bases</span>
    <span class="keyword">let</span> bobBases = <span class="function">GenerateRandomBits</span>(keyLength);
    <span class="function">Message</span>($<span class="string">"Bob's bases:   {bobBases}"</span>);
    
    <span class="comment">// 4. Bob measures qubits</span>
    <span class="keyword">let</span> bobBits = <span class="function">BobMeasureQubits</span>(qubits, bobBases);
    <span class="function">Message</span>($<span class="string">"Bob's bits:    {bobBits}"</span>);
    
    <span class="comment">// 5. Extract secret key (matching bases only)</span>
    <span class="keyword">let</span> secretKey = <span class="function">ExtractSecretKey</span>(aliceBits, bobBits, aliceBases, bobBases);
    
    <span class="function">Message</span>($<span class="string">"Secret key:    {secretKey}"</span>);
    <span class="function">Message</span>($<span class="string">"Key length:    {Length(secretKey)} bits"</span>);
}</code></pre>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üîç Debugging and Testing</h2>
            
            <h3>Debug Output</h3>
            <div class="code-block">
                <pre><code><span class="comment">// Print variable values</span>
<span class="function">Message</span>($<span class="string">"Current bit: {bit}"</span>);
<span class="function">Message</span>($<span class="string">"Key length: {Length(secretKey)}"</span>);

<span class="comment">// Print arrays</span>
<span class="function">Message</span>($<span class="string">"Alice's key: {aliceKey}"</span>);

<span class="comment">// Simulator-only: Show quantum state</span>
<span class="function">DumpMachine</span>();  <span class="comment">// Shows full quantum state</span></code></pre>
            </div>

            <h3>Testing Your QKD Implementation</h3>
            <div class="code-block">
                <pre><code><span class="keyword">operation</span> <span class="function">TestBB84</span>() : <span class="type">Unit</span> {
    <span class="comment">// Test with known values</span>
    <span class="keyword">let</span> testBits = [<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">false</span>];
    <span class="keyword">let</span> testBases = [<span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">true</span>];  <span class="comment">// Z, Z, X, X</span>
    
    <span class="keyword">let</span> qubits = <span class="function">AlicePrepareQubits</span>(testBits, testBases);
    <span class="keyword">let</span> results = <span class="function">BobMeasureQubits</span>(qubits, testBases);  <span class="comment">// Same bases</span>
    
    <span class="comment">// Results should match when bases are same</span>
    <span class="keyword">for</span> i in 0..<span class="function">Length</span>(testBits)-1 {
        <span class="keyword">if</span> testBits[i] != results[i] {
            <span class="function">Message</span>($<span class="string">"ERROR: Bit {i} doesn't match!"</span>);
        }
    }
    
    <span class="function">Message</span>(<span class="string">"BB84 test completed!"</span>);
}</code></pre>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üìö Essential Library Functions</h2>
            
            <div class="grid-2">
                <div>
                    <h3>Array Operations</h3>
                    <div class="code-block">
                        <pre><code><span class="keyword">open</span> Microsoft.Quantum.Arrays;

<span class="keyword">let</span> length = <span class="function">Length</span>(myArray);           <span class="comment">// Get array size</span>
<span class="keyword">let</span> firstElement = <span class="function">Head</span>(myArray);       <span class="comment">// Get first element</span>
<span class="keyword">let</span> restElements = <span class="function">Tail</span>(myArray);       <span class="comment">// Get all but first</span>
<span class="keyword">let</span> combined = array1 + array2;         <span class="comment">// Concatenate arrays</span></code></pre>
                    </div>
                </div>
                
                <div>
                    <h3>Type Conversions</h3>
                    <div class="code-block">
                        <pre><code><span class="keyword">open</span> Microsoft.Quantum.Convert;

<span class="keyword">let</span> boolArray = <span class="function">ResultArrayAsBoolArray</span>(results);
<span class="keyword">let</span> intValue = <span class="function">BoolArrayAsInt</span>(boolArray);
<span class="keyword">let</span> resultArray = <span class="function">BoolArrayAsResultArray</span>(boolArray);</code></pre>
                    </div>
                </div>
            </div>

            <h3>Math Functions</h3>
            <div class="code-block">
                <pre><code><span class="keyword">open</span> Microsoft.Quantum.Math;

<span class="keyword">let</span> randomFloat = <span class="function">RandomReal</span>();         <span class="comment">// Random [0,1)</span>
<span class="keyword">let</span> randomInt = <span class="function">RandomInt</span>(10);          <span class="comment">// Random [0,9]</span>
<span class="keyword">let</span> squareRoot = <span class="function">Sqrt</span>(4.0);            <span class="comment">// = 2.0</span></code></pre>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üîÑ Control Flow Essentials</h2>
            
            <h3>Variables and Assignment</h3>
            <div class="code-block">
                <pre><code><span class="comment">// Immutable binding (can't change)</span>
<span class="keyword">let</span> numberOfPhotons = 100;
<span class="keyword">let</span> secretBit = <span class="keyword">true</span>;

<span class="comment">// Mutable variable (can change)</span>
<span class="keyword">mutable</span> matchingBases = 0;
<span class="keyword">set</span> matchingBases = matchingBases + 1;

<span class="comment">// Arrays</span>
<span class="keyword">let</span> aliceBits = [<span class="keyword">true</span>, <span class="keyword">false</span>, <span class="keyword">true</span>, <span class="keyword">false</span>];
<span class="keyword">mutable</span> keyBits = [];
<span class="keyword">set</span> keyBits += [<span class="keyword">true</span>];  <span class="comment">// Add element to array</span></code></pre>
            </div>

            <h3>Loops for Processing Multiple Qubits</h3>
            <div class="code-block">
                <pre><code><span class="comment">// Process array of qubits</span>
<span class="keyword">for</span> i in 0..<span class="function">Length</span>(qubits)-1 {
    <span class="function">H</span>(qubits[i]);
    <span class="keyword">let</span> result = <span class="function">M</span>(qubits[i]);
    <span class="function">Message</span>($<span class="string">"Qubit {i}: {result}"</span>);
}

<span class="comment">// Repeat until condition</span>
<span class="keyword">mutable</span> attempts = 0;
<span class="keyword">repeat</span> {
    <span class="comment">// Try quantum operation</span>
    <span class="keyword">set</span> attempts = attempts + 1;
} <span class="keyword">until</span> attempts >= maxAttempts;</code></pre>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üìè Measurement Patterns for QKD</h2>
            
            <h3>Basic Measurement</h3>
            <div class="code-block">
                <pre><code><span class="comment">// Single qubit measurement</span>
<span class="keyword">let</span> bit = <span class="function">M</span>(qubit) == <span class="type">One</span>;

<span class="comment">// Multiple qubits at once</span>
<span class="keyword">let</span> results = <span class="function">MeasureEachZ</span>(qubits);
<span class="keyword">let</span> bits = <span class="function">ResultArrayAsBoolArray</span>(results);</code></pre>
            </div>

            <h3>Basis Selection</h3>
            <div class="code-block">
                <pre><code><span class="keyword">operation</span> <span class="function">MeasureInRandomBasis</span>(qubit : <span class="type">Qubit</span>) : (<span class="type">Bool</span>, <span class="type">Bool</span>) {
    <span class="keyword">let</span> basisChoice = <span class="function">GenerateRandomBit</span>();  <span class="comment">// Random basis</span>
    
    <span class="keyword">if</span> basisChoice {
        <span class="function">H</span>(qubit);  <span class="comment">// Measure in X-basis</span>
    }
    <span class="comment">// else measure in Z-basis</span>
    
    <span class="keyword">let</span> measurementResult = <span class="function">M</span>(qubit) == <span class="type">One</span>;
    <span class="function">Reset</span>(qubit);
    
    <span class="keyword">return</span> (measurementResult, basisChoice);
}</code></pre>
            </div>
        </div>

        <div class="section fade-in">
            <h2>üéØ Suggested Self Tests</h2>
            
            <div class="grid-2">
                <div class="quick-ref">
                    <h4>Exercise 1: Single Photon</h4>
                    <p>Create a function that prepares a qubit in state |+‚ü© and measures it in Z-basis.</p>
                </div>
                <div class="quick-ref">
                    <h4>Exercise 2: Basis Mismatch</h4>
                    <p>Show what happens when Alice prepares in X-basis but Bob measures in Z-basis.</p>
                </div>
                <div class="quick-ref">
                    <h4>Exercise 3: Eavesdropping Detection</h4>
                    <p>Implement a simple eavesdropping detection by comparing error rates.</p>
                </div>
                <div class="quick-ref">
                    <h4>Exercise 4: Mini BB84</h4>
                    <p>Implement BB84 with 4 qubits and trace through the entire protocol.</p>
                </div>
            </div>
        </div>

        <div class="section fade-in" style="text-align: center; margin-top: 3rem;">
            <h2>üéì Remember</h2>
            <div class="highlight" style="font-size: 1.1rem; padding: 1.5rem;">
                In real QKD, security comes from quantum mechanics laws, not code complexity!
            </div>
            <p style="margin-top: 1rem; color: #7d8590;">
                Perfect for GitHub Pages deployment ‚Ä¢ Optimized for learning and reference
            </p>
        </div>
    </div>

    <script>
        // Add smooth scrolling and fade-in animations
        document.addEventListener('DOMContentLoaded', function() {
            const sections = document.querySelectorAll('.section');
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, { threshold: 0.1 });

            sections.forEach(section => {
                section.style.opacity = '0';
                section.style.transform = 'translateY(20px)';
                section.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
                observer.observe(section);
            });

            // Add hover effects for code blocks
            const codeBlocks = document.querySelectorAll('.code-block');
            codeBlocks.forEach(block => {
                block.addEventListener('mouseenter', function() {
                    this.style.transform = 'scale(1.01)';
                    this.style.boxShadow = '0 8px 25px rgba(88, 166, 255, 0.15)';
                });
                
                block.addEventListener('mouseleave', function() {
                    this.style.transform = 'scale(1)';
                    this.style.boxShadow = 'none';
                });
            });
        });
		
		
		// Add this to your existing script
        document.querySelector('.home-button').addEventListener('click', function(e) {
            e.preventDefault();
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        });
		
    </script>
	
	<a href="https://jullyanolino.github.io/cheat_sheets/" class="home-button" title="Return to Home">
		<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
            <polyline points="9 22 9 12 15 12 15 22"></polyline>
        </svg>
        Home
    </a>
	
</body>
</html>
